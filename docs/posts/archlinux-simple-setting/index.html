<!DOCTYPE html>
<html lang="en-us"><head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
   <meta name="description" content="安装图形界面（dwm） 之前安装arch Linux系统的文章里写了怎么安装显卡驱动，这里就不再赘述，因此后续步骤默认安装了显卡驱动，如果没有安装可以先看前面的文章进行安装
安装xorg桌面服务
sudo pacman -S xorg xorg-server xorg-xinit
安装dwm
下载dwm源码
git clone https://git.suckless.org/dwm
编译并安装
下载完终端当前目录会出现一个名字是dwm的文件夹，输入cd dwm进入
在dwm文件夹下输入sudo make clean install进行安装
配置startx
安装完成后进行startx配置
打开家目录下的.xinitrc文件夹，在最后一行输入exec dwm,如果还有其他exec语句记得注释掉，否则会发生错误导致无法进入图形环境
保存并关闭文件，此时输入startx可以进入图形界面，使用shift&#43;alt&#43;q可以退出图形界面
设置登录后自动进入图形环境
打开~/.bash_profile，在文件最后一行输入：
if [ -z &#34;${DISPLAY}&#34; ] &amp;&amp; [ &#34;${XDG_VTNR}&#34; -eq 1 ]; then exec startx fi 这样以后登陆之后就会自动进入图形界面。
终端模拟器（st） 安装方法与dwm类似
下载st源码
git clone https://git.suckless.org/st
编译并安装
进入st文件夹，输入sudo make clean install进行安装
安装好后在图形界面下，使用shift&#43;alt&#43;enter可以打开终端
程序启动器（dmenu） 这个同样是suckless这个组织推出的应用，安装好这个后，只要在dwm界面下使用alt&#43;p可以打开dmenu，之后就可以通过输入程序名字启动应用，非常方便
这个应用可以使用pacman下载，不用像上面两个一样下载源码安装，但是想自己编译安装的朋友也可以参考上面的方法自行安装
sudo pacman -S dmenu
文件管理器（ranger） 终端版文件管理器
sudo pacman -S ranger">  

  <title>
    
      [ArchLinux]Basic Settings for Arch Linux
    
  </title>


  <link rel="shortcut icon" type="image/x-icon" href="/" />
  
  
  
  <link rel="stylesheet" href="/css/main.10776b9b86bf7e3aca232a6c5e4fbdc3baacf45c0cc3a1802995836aa1689368e8fadebd3e46fdc9ad87eab1f834f5bbb28dbb2b23fea73ae3e57c258caef3bd.css" integrity="sha512-EHdrm4a/fjrKIypsXk&#43;9w7qs9FwMw6GAKZWDaqFok2jo&#43;t69Pkb9ya2H6rH4NPW7so27KyP&#43;pzrj5XwljK7zvQ==" />
  
</head>
<body a="auto">
        <main class="page-content" aria-label="Content">
            <div class="w">
<a href="/">..</a>

<article>
    <p class="post-meta">
        <time datetime="2024-01-21 13:47:35 &#43;0800 CST">
            2024-01-21
        </time>
    </p>

    <h1>[ArchLinux]Basic Settings for Arch Linux</h1>

    

    <h3 id="安装图形界面dwm">安装图形界面（dwm）</h3>
<p>之前安装arch Linux系统的文章里写了怎么安装显卡驱动，这里就不再赘述，因此后续步骤默认安装了显卡驱动，如果没有安装可以先看前面的文章进行安装</p>
<ol>
<li>
<p>安装xorg桌面服务</p>
<p><code>sudo pacman -S xorg xorg-server xorg-xinit</code></p>
</li>
<li>
<p>安装dwm</p>
<ol>
<li>
<p>下载dwm源码</p>
<p><code>git clone https://git.suckless.org/dwm</code></p>
</li>
<li>
<p>编译并安装</p>
<p>下载完终端当前目录会出现一个名字是dwm的文件夹，输入<code>cd dwm</code>进入</p>
<p>在dwm文件夹下输入<code>sudo make clean install</code>进行安装</p>
</li>
</ol>
</li>
<li>
<p>配置startx</p>
<p>安装完成后进行startx配置</p>
<p>打开家目录下的.xinitrc文件夹，在最后一行输入<code>exec dwm</code>,如果还有其他exec语句记得注释掉，否则会发生错误导致无法进入图形环境</p>
<p>保存并关闭文件，此时输入<code>startx</code>可以进入图形界面，使用<code>shift+alt+q</code>可以退出图形界面</p>
</li>
<li>
<p>设置登录后自动进入图形环境</p>
<p>打开<code>~/.bash_profile</code>，在文件最后一行输入：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> -z <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>DISPLAY<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span> <span style="color:#f92672">]</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#f92672">[</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>XDG_VTNR<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span> -eq <span style="color:#ae81ff">1</span> <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>	exec startx
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span></code></pre></div><p>这样以后登陆之后就会自动进入图形界面。</p>
</li>
</ol>
<h3 id="终端模拟器st">终端模拟器（st）</h3>
<p>安装方法与dwm类似</p>
<ol>
<li>
<p>下载st源码</p>
<p><code>git clone https://git.suckless.org/st</code></p>
</li>
<li>
<p>编译并安装</p>
<p>进入st文件夹，输入<code>sudo make clean install</code>进行安装</p>
</li>
</ol>
<p>安装好后在图形界面下，使用<code>shift+alt+enter</code>可以打开终端</p>
<h3 id="程序启动器dmenu">程序启动器（dmenu）</h3>
<p>这个同样是suckless这个组织推出的应用，安装好这个后，只要在dwm界面下使用<code>alt+p</code>可以打开dmenu，之后就可以通过输入程序名字启动应用，非常方便</p>
<p>这个应用可以使用pacman下载，不用像上面两个一样下载源码安装，但是想自己编译安装的朋友也可以参考上面的方法自行安装</p>
<p><code>sudo pacman -S dmenu</code></p>
<h3 id="文件管理器ranger">文件管理器（ranger）</h3>
<p>终端版文件管理器</p>
<p><code>sudo pacman -S ranger</code></p>
<h3 id="连接蓝牙设备">连接蓝牙设备</h3>
<p>首先安装蓝牙和蓝牙gui设置界面</p>
<p><code>sudo pacman -S bluez bluez-utils blueman</code></p>
<p>其中blueman是图形化界面，如果想用bluedevil可以输入<code>sudo pacman -S bluedevil</code>下载</p>
<p>开启蓝牙：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo systemctl start bluetooth.service
</span></span><span style="display:flex;"><span>sudo systemctl enable bluetooth,service
</span></span></code></pre></div><p>完成上面的操作后最好重启一下，因为我是重启前老提示配对失败，重启后才能连接蓝牙鼠标，如果没有这个问题也可以不重启</p>
<p>终端输入<code>blueman-manager</code>或者<code>bluedevil-wizard</code>，打开蓝牙连接界面，之后就可以连接了</p>
<p>blueman界面如下图所示</p>
<p><img src="https://i0.imgs.ovh/2024/01/27/K27HK.png" alt="blueman"></p>
<p>bluedevil界面如下图所示</p>
<p><img src="https://i0.imgs.ovh/2024/01/27/K2OS2.png" alt="bluedevil"></p>
<h3 id="中文输入法">中文输入法</h3>
<p><code>sudo pacman -S fcitx5-im fcitx5-chinese-addons fcitx5-qt fcitx5-gtk</code></p>
<p>打开<code>~/.bash_profile</code>，在文件最后添加下面的命令：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>export GTK_IM_MODULE<span style="color:#f92672">=</span>fcitx
</span></span><span style="display:flex;"><span>export QT_IM_MODULE<span style="color:#f92672">=</span>fcitx
</span></span><span style="display:flex;"><span>export XMODIFIERS<span style="color:#f92672">=</span>@im<span style="color:#f92672">=</span>fcitx
</span></span><span style="display:flex;"><span>export INPUT_METHOD<span style="color:#f92672">=</span>fcitx
</span></span><span style="display:flex;"><span>export SDL_IM_MODULE<span style="color:#f92672">=</span>fcitx
</span></span></code></pre></div><p>之后在<code>~/.xinitrc</code>中<code>exec dwm</code>前面添加：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>fcitx5 -d &amp;
</span></span></code></pre></div><p>这样以后启动xorg服务时自动启动fcitx5</p>
<p>打开fcitx5-configtool，在右侧栏搜索pinyin，将pinyin添加到输入法中，这样就可以输入中文了</p>
<p>输入<code>sudo pacman -S fcitx5-pinyin-zhwiki</code>下载字库，安装后会自动应用，不需要额外设置</p>
<h3 id="中文字体">中文字体</h3>
<p>不安装中文字体的话网页和文档中的汉字没办法显示</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo pacman -S noto-fonts-cjk wqy-microhei wqy-microhei-lite wqy-bitmapfont
</span></span><span style="display:flex;"><span>sudo pacman -S wqy-zenhei ttf-arphic-ukai ttf-arphic-uming adobe-source-han-sans-cn-fonts adobe-source-han-serif-cn-fonts
</span></span></code></pre></div><h3 id="音量控制">音量控制</h3>
<p><code>sudo pacman -S alsa-utils</code></p>
<p>之后在命令行输入<code>alsamixer</code>对音量进行调节，<code>alsamixer -h</code>可以查看使用说明</p>
<p><img src="https://i0.imgs.ovh/2024/01/26/xT88l.png" alt="alsamixer"></p>
<h3 id="电源管理器">电源管理器</h3>
<p>输入<code>sudo pacman -S mate-power-manager</code>下载</p>
<p>可以用电源管理器调节屏幕亮度，设置开机键功能和合盖后的电脑反应等，台式机的话就没法设置合盖后的反应了</p>
<h3 id="多显示器设置">多显示器设置</h3>
<p>在之前安装arch Linux系统的文章中安装了xorg，因此可以使用家目录下的<code>.xinitrc</code>文件进行配置</p>
<p>首先在终端输入<code>xrandr -q</code>，查看已连接显示器的接口名和分辨率，如下图所示</p>
<p><img src="https://i0.imgs.ovh/2024/01/27/K2bmu.png" alt="xrandr-q"></p>
<p>图中HDMI-0是我目前使用的显示器，第一行60.00后面有的*表示目前显示器设置是1920x1080 60帧</p>
<p>配置方法是打开家目录下的<code>xinitrc</code>，之后根据自己的需求进行配置。下面列出一些简单的配置命令</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># 单显示器设置，其中DP-1是我使用的显示器接口名，请自行替换,这一行命令设置HDMI-0作为显示器，并将分辨率设置为1920x1080，帧数设置为60</span>
</span></span><span style="display:flex;"><span>xrandr --output HDMI-0 --mode 1920x1080 --rate 60.00
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 双显示器设置</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 1.首先指定主显示器</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 2.设置两个显示器位置关系，这里设置DP-0在HDMI-0右边，如果是左边的话使用--left-of</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 3.主次和位置关系设定好后设定分辨率和帧数，如果不想设置也可以用--auto代替，系统会自动应用最佳分辨率</span>
</span></span><span style="display:flex;"><span>xrandr --output HDMI-0 --primary
</span></span><span style="display:flex;"><span>xrandr --output DP-0 --right-of HDMI-0
</span></span><span style="display:flex;"><span>xrandr --output HDMI-0 --mode 1920x1080 --rate 60.00 --output DP-0 --mode 3840x2160 --rate 60.00
</span></span></code></pre></div><p>配置完成后重新启动xorg看效果</p>
<p>如果不想用上面的方法的话可以使用arandr，这是xrandr的一个图像化工具，可以像windows一样在窗口中拖动进行显示器配置</p>
<p>输入<code>sudo pacman -S arandr</code>，安装arandr</p>
<p>之后在终端输入arandr打开，界面如下图</p>
<p><img src="https://i0.imgs.ovh/2024/01/27/K2ocl.png" alt="arandr"></p>
<h3 id="修改主机名">修改主机名</h3>
<p>终端输入<code>sodo vim /etc/hostname</code> ,修改成自己想要的主机名</p>
<p>之后输入<code>sudo vim /etc/hosts</code>，将hosts中最后一行对应位置修改成修改后的主机名</p>
<p>重启之后查看效果</p>
<h3 id="安装paru">安装paru</h3>
<p>安装<code>paru</code>以后我们就可以在AUR里面下载软件了，意味着我们能够下载更多的软件了。添加完archlinuxcn源以后运行：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo pacman -S paru
</span></span></code></pre></div><p>可以通过<code>paru --help</code>查看<code>paru</code>的使用帮助，下面简单介绍几个它的常见用法：</p>
<ul>
<li><code>paru</code>刷新软件仓库缓存并更新整个系统；</li>
<li><code>paru &lt;package name&gt;</code>在AUR上检索<code>package name</code>相关的软件包，可以在检索结果中选择特定的软件包进行安装，这在我们只知道软件包的部分名称，或计划安装某一族软件包的时候特别好用；</li>
<li><code>paru -S &lt;package name&gt;</code>跳过检索过程，直接快进到安装软件；</li>
<li><code>paru -R &lt;package name&gt;</code>删除某个已经安装好的软件包；</li>
<li><code>paru -Scc</code>清空缓存、删除没有用的软件安装包。</li>
</ul>

</article>

            </div>
        </main>
    </body></html>
