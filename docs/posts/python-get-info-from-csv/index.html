<!DOCTYPE html>
<html lang="en-us"><head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
   <meta name="description" content="记录一下使用Pandas读取csv数据和获取行名/列名的方法。
首先导入pandas
import pandas as pd #打开文件 file = pd.read_csv(filename) 获取数据
data = file.values 获取行名
rownames = file.index 获取列名
colnames = file.columns 下面用我之前写过的一个简单的例子对比说明
原来的代码
data = pd.read_csv(filename) xdata = data[&#39;time&#39;] ydata = data[&#39;voltage&#39;] 可以看出，上述代码中xdata是打开的csv文件中列名为time的那一列的数据，ydata则是voltage列的数据。这样写固然表示的非常清晰，但只能打开列名恰好是time和voltage的csv数据，否则便会报错，也导致如果想要处理电流数据时需要将voltage改成current，非常耽误时间，也很呆。
修改后的代码如下
data = pd.read_csv(filename) colnames = data.columns xdata = data[colnames[0]] ydata = data[colnames[1]] 这样写的好处是不管处理列名是什么的数据都可以正常运行和显示而不需要对代码进行额外的修改。">  

  <title>
    
      [Python]使用Pandas获取csv文件行名和列名
    
  </title>


  <link rel="shortcut icon" type="image/x-icon" href="/" />
  
  
  
  <link rel="stylesheet" href="/css/main.10776b9b86bf7e3aca232a6c5e4fbdc3baacf45c0cc3a1802995836aa1689368e8fadebd3e46fdc9ad87eab1f834f5bbb28dbb2b23fea73ae3e57c258caef3bd.css" integrity="sha512-EHdrm4a/fjrKIypsXk&#43;9w7qs9FwMw6GAKZWDaqFok2jo&#43;t69Pkb9ya2H6rH4NPW7so27KyP&#43;pzrj5XwljK7zvQ==" />
  
</head>
<body a="auto">
        <main class="page-content" aria-label="Content">
            <div class="w">
<a href="/">..</a>

<article>
    <p class="post-meta">
        <time datetime="2024-06-26 22:36:57 &#43;0800 CST">
            2024-06-26
        </time>
    </p>

    <h1>[Python]使用Pandas获取csv文件行名和列名</h1>

    

    <p>记录一下使用Pandas读取csv数据和获取行名/列名的方法。</p>
<p>首先导入pandas</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas <span style="color:#66d9ef">as</span> pd
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#打开文件</span>
</span></span><span style="display:flex;"><span>file <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_csv(filename)
</span></span></code></pre></div><p>获取数据</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>data <span style="color:#f92672">=</span> file<span style="color:#f92672">.</span>values
</span></span></code></pre></div><p>获取行名</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>rownames <span style="color:#f92672">=</span> file<span style="color:#f92672">.</span>index
</span></span></code></pre></div><p>获取列名</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>colnames <span style="color:#f92672">=</span> file<span style="color:#f92672">.</span>columns
</span></span></code></pre></div><p>下面用我之前写过的一个简单的例子对比说明</p>
<p>原来的代码</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>data <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_csv(filename)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>xdata <span style="color:#f92672">=</span> data[<span style="color:#e6db74">&#39;time&#39;</span>]
</span></span><span style="display:flex;"><span>ydata <span style="color:#f92672">=</span> data[<span style="color:#e6db74">&#39;voltage&#39;</span>]
</span></span></code></pre></div><p>可以看出，上述代码中xdata是打开的csv文件中列名为<code>time</code>的那一列的数据，ydata则是<code>voltage</code>列的数据。这样写固然表示的非常清晰，但只能打开列名恰好是<code>time</code>和<code>voltage</code>的csv数据，否则便会报错，也导致如果想要处理电流数据时需要将<code>voltage</code>改成<code>current</code>，非常耽误时间，也很呆。</p>
<p>修改后的代码如下</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>data <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_csv(filename)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>colnames <span style="color:#f92672">=</span> data<span style="color:#f92672">.</span>columns
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>xdata <span style="color:#f92672">=</span> data[colnames[<span style="color:#ae81ff">0</span>]]
</span></span><span style="display:flex;"><span>ydata <span style="color:#f92672">=</span> data[colnames[<span style="color:#ae81ff">1</span>]]
</span></span></code></pre></div><p>这样写的好处是不管处理列名是什么的数据都可以正常运行和显示而不需要对代码进行额外的修改。</p>

</article>

            </div>
        </main>
    </body></html>
